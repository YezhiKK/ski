<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkiWuhan - æ­¦æ±‰æ»‘é›ªæ‹¼è½¦è‡ªåŠ©å¹³å°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .ski-blue { background: #004ecc; }
        .resort-tag { font-size: 10px; padding: 2px 6px; border-radius: 4px; background: #f1f5f9; color: #475569; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 pb-10">

    <nav class="ski-blue text-white p-4 sticky top-0 z-50 shadow-md flex justify-between items-center">
        <h1 class="font-black italic text-lg tracking-tighter">SKI WUHAN â›·ï¸</h1>
        <a href="https://github.com/yezhikk/ski/issues/new?labels=æ‹¼è½¦&title=ã€åŒºåŸŸã€‘é›ªåœº+æ—¥æœŸ+æ—¶é—´+å‰©Xåº§+å¾®ä¿¡xxx" target="_blank" class="bg-yellow-400 text-blue-900 px-4 py-1 rounded-full text-xs font-bold shadow">
            + å‘å¸ƒè¡Œç¨‹
        </a>
    </nav>

    <main class="max-w-4xl mx-auto p-4 space-y-6">
        <section class="grid grid-cols-2 md:grid-cols-3 gap-2">
            <button onclick="showInfo('ç”˜éœ²å±±', 'ğŸ“ ç›˜é¾™åŸ | 3æ¡é“ | å¡åº¦21Â°')" class="bg-white border p-3 rounded-xl text-xs font-bold shadow-sm hover:bg-blue-50">ç”˜éœ²å±±è¯¦æƒ…</button>
            <button onclick="showInfo('WSçƒ­é›ª', 'ğŸ“ æ¢¦æ—¶ä»£8æ¥¼ | 2æ¡é“ | å®¤å†…æ’æ¸©')" class="bg-white border p-3 rounded-xl text-xs font-bold shadow-sm hover:bg-blue-50">WSçƒ­é›ªè¯¦æƒ…</button>
            <button onclick="showInfo('ç»¿è‘±å¡', 'ğŸ“ æ©æ–½å·´ä¸œ | 9æ¡é“ | å»ºè®®ç»„å›¢')" class="bg-indigo-50 border p-3 rounded-xl text-xs font-bold shadow-sm text-indigo-700">ç»¿è‘±å¡è¯¦æƒ…</button>
        </section>

        <section>
            <h2 class="font-bold text-gray-800 mb-4 flex items-center">
                <span class="w-1.5 h-5 ski-blue rounded-full mr-2"></span> å®æ—¶æ‹¼è½¦çœ‹æ¿
            </h2>
            <div id="issue-list" class="space-y-3">
                <p class="text-center text-gray-400 py-10 text-sm">æ­£åœ¨åŠ è½½æœ€æ–°æ‹¼è½¦ä¿¡æ¯...</p>
            </div>
        </section>
    </main>

    <div id="modal" class="hidden fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-6 backdrop-blur-sm">
        <div class="bg-white rounded-3xl w-full max-w-xs p-6 shadow-2xl">
            <h3 id="m-title" class="font-bold text-lg mb-4 text-blue-900 border-b pb-2"></h3>
            <div id="m-body" class="text-sm text-gray-600 mb-6 leading-relaxed"></div>
            <button onclick="closeModal()" class="w-full bg-blue-600 text-white py-3 rounded-xl font-bold">çŸ¥é“äº†</button>
        </div>
    </div>

    <script>
        // æ ¸å¿ƒï¼šä» GitHub è·å–æ•°æ®
        async function fetchIssues() {
            const repo = 'yezhikk/ski';
            const container = document.getElementById('issue-list');
            
            try {
                const response = await fetch(`https://api.github.com/repos/${repo}/issues?labels=æ‹¼è½¦&state=open`);
                const issues = await response.json();
                
                if (issues.length === 0) {
                    container.innerHTML = '<p class="text-center text-gray-400 py-10 text-sm">æš‚æ— æ‹¼è½¦ä¿¡æ¯ï¼Œç‚¹å‡»å³ä¸Šè§’å‘å¸ƒç¬¬ä¸€ä¸ªï¼</p>';
                    return;
                }

                container.innerHTML = '';
                issues.forEach(issue => {
                    const card = `
                        <div class="bg-white p-4 rounded-2xl shadow-sm border border-slate-100 relative">
                            <div class="text-sm font-bold text-blue-900 mb-2">${issue.title}</div>
                            <div class="text-[11px] text-gray-400 mb-3 font-light">${new Date(issue.created_at).toLocaleString()} å‘å¸ƒ</div>
                            <a href="${issue.html_url}" target="_blank" class="block text-center bg-slate-50 text-blue-600 py-2 rounded-lg text-xs font-bold">æŸ¥çœ‹è¯¦æƒ… / è”ç³»è½¦ä¸»</a>
                        </div>
                    `;
                    container.innerHTML += card;
                });
            } catch (e) {
                container.innerHTML = '<p class="text-center text-red-400 py-10 text-sm">åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢</p>';
            }
        }

        function showInfo(t, b) {
            document.getElementById('m-title').innerText = t;
            document.getElementById('m-body').innerHTML = b;
            document.getElementById('modal').classList.remove('hidden');
        }
        function closeModal() { document.getElementById('modal').classList.add('hidden'); }
        
        window.onload = fetchIssues;
    </script>
</body>
</html>
